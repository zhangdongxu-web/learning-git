(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/objeceAppraisal/objeceAppraisal"],{"0aad":function(t,s,e){},"0da1":function(t,s,e){"use strict";e.r(s);var n=e("2b98"),i=e("9702");for(var o in i)"default"!==o&&function(t){e.d(s,t,function(){return i[t]})}(o);e("5ea2");var a=e("2877"),c=Object(a["a"])(i["default"],n["a"],n["b"],!1,null,"72aa04d1",null);s["default"]=c.exports},"1db8":function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e={data:function(){return{photoList:[{name:"上传实物照片",imgsrc:""},{name:"快递包裹照片",imgsrc:""},{name:"快递订单照片",imgsrc:""}],price:0,classname:"",brandname:"",classList:[],brandList:[],classId:-1,brandId:-1,orderNum:"",buyPrice:"",addressInfo:""}},onShow:function(){var t=this;this.$requestApi.getClassList().then(function(s){t.classList=s.data.list}),this.addressInfo=getApp().globalData.userAddress||""},methods:{submitPay:function(){var s=this,e={brand:this.brandId,genre:this.classId,courierid:this.orderNum,price:this.buyPrice,images:[],cost:this.price,address:JSON.stringify(this.addressInfo),paytype:"wxpay"};this.addressInfo.id?-1!=e.genre?-1!=e.brand?""!=e.images[0]?""!=e.images[1]?""!=e.images[2]?""!=e.courierid?""!=e.price?(e.images=this.photoList.map(function(t){return t.imgsrc}),t.getProvider({service:"payment",success:function(n){~n.provider.indexOf("wxpay")&&(console.log("微信支付"),t.login({provider:"wxpay",success:function(n){n.code&&(console.log(n.code),s.$requestApi.wxpay({code:n.code,money:.01}).then(function(n){console.log(n);var i=n.data.orderid;t.requestPayment({provider:"wxpay",timeStamp:n.data.timeStamp,nonceStr:n.data.nonceStr,package:n.data.package,signType:n.data.signType,paySign:n.data.paySign,success:function(n){e["orderid"]=i,s.$requestApi.sendgoodsorder(e).then(function(s){t.showToast({title:"支付成功"}),setTimeout(function(){t.navigateBack()},1e3)})},fail:function(s){console.log("支付失败:"+JSON.stringify(s)),t.showToast({icon:"none",title:"支付失败"})}})}))}}))}})):t.showToast({icon:"none",title:"请输入商品购买价格"}):t.showToast({icon:"none",title:"请输入快递单号"}):t.showToast({icon:"none",title:"请上传订单照片"}):t.showToast({icon:"none",title:"请上传包裹照片"}):t.showToast({icon:"none",title:"请上传实物照片"}):t.showToast({icon:"none",title:"请选择品牌"}):t.showToast({icon:"none",title:"请选择品类"}):t.showToast({icon:"none",title:"请选择收货地址"})},clickBrand:function(t){this.$refs.popupBrand.close(),this.brandname=t.name,this.brandId=t.id,this.price=199},choseClass:function(t){this.$refs.classList.close(),this.price=t.price,this.classname=t.name,this.classId=t.id},closeClass:function(){this.$refs.classList.close()},closeBrand:function(){this.$refs.popupBrand.close()},brandListOpen:function(){-1!=this.classId?(this.getProductList(),this.$refs.popupBrand.open()):this.$refs.classList.open()},classListOpen:function(){this.$refs.classList.open()},getProductList:function(){var t=this;this.$requestApi.getProductList({genre:this.classId}).then(function(s){t.brandList=s.data.list})},takePhoto:function(s,e){var n=this;t.showActionSheet({itemList:["相机拍照","从相册中选择图片"],success:function(t){var s=t.tapIndex,i=["camera","album"];i=[i[s]],console.log(i),n.$uploadPhoto(i,function(t){n.photoList[e].imgsrc=t.data})}})}}};s.default=e}).call(this,e("543d")["default"])},"2b98":function(t,s,e){"use strict";var n=function(){var t=this,s=t.$createElement;t._self._c},i=[];e.d(s,"a",function(){return n}),e.d(s,"b",function(){return i})},"5ea2":function(t,s,e){"use strict";var n=e("0aad"),i=e.n(n);i.a},9702:function(t,s,e){"use strict";e.r(s);var n=e("1db8"),i=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(s,t,function(){return n[t]})}(o);s["default"]=i.a},d2c6:function(t,s,e){"use strict";(function(t){e("5605"),e("921b");n(e("66fd"));var s=n(e("0da1"));function n(t){return t&&t.__esModule?t:{default:t}}t(s.default)}).call(this,e("543d")["createPage"])}},[["d2c6","common/runtime","common/vendor"]]]);