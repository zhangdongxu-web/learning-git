{"version":3,"sources":["uni-app:///main.js","webpack:///E:/张东旭/baopuqiantai/pages/appraisalRoom/appraisalRoom.vue?0884","webpack:///E:/张东旭/baopuqiantai/pages/appraisalRoom/appraisalRoom.vue?4810","webpack:///E:/张东旭/baopuqiantai/pages/appraisalRoom/appraisalRoom.vue?fb2f","webpack:///E:/张东旭/baopuqiantai/pages/appraisalRoom/appraisalRoom.vue?f06f","uni-app:///pages/appraisalRoom/appraisalRoom.vue","webpack:///E:/张东旭/baopuqiantai/pages/appraisalRoom/appraisalRoom.vue?2126","webpack:///E:/张东旭/baopuqiantai/pages/appraisalRoom/appraisalRoom.vue?f635"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,oH;AACAA,UAAU,CAACC,sBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsI;AACtI;AACiE;AACL;AACsC;;;AAGlG;AACgK;AAChK,gBAAgB,6KAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,oGAAM;AACR,EAAE,6GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,6LAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAA2lB,CAAgB,unBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoG/mB;AACA;AACA,sD;AACA;AACA,MADA,kBACA;AACA;AACA,gBADA;AAEA,mBAFA,EAEA;AACA,mBAHA,EAGA;AACA,sBAJA,EAIA;AACA,wBALA,EAKA;AACA,mBANA,EAMA;AACA,gBAPA,EAOA;AACA,oBARA,EAQA;AACA,cATA,EASA;AACA,mBAVA,EAUA;AACA,kBAXA;AAYA,iBAZA;AAaA,oBAbA;AAcA,eAdA;AAeA,mBAfA;AAgBA,sBAhBA;AAiBA,cAjBA;AAkBA,YAlBA;AAmBA,iBAnBA;AAoBA,4BApBA;AAqBA,qBArBA;;AAuBA,GAzBA;AA0BA,QA1BA,kBA0BA,MA1BA,EA0BA;AACA;AACA,kBADA;;AAGA;AACA;AACA;AACA,KAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQA;AACA;AACA;AACA,uDAHA,CAGA;AACA,0DAJA,CAIA;AACA;AACA,6BADA;AAEA,iCAFA;AAGA,sBAHA;AAIA;AACA,+CADA,EAJA;;AAOA;AACA;AACA,+BAFA,EAPA;;AAWA;AACA;AACA,SAbA;;AAeA,KApBA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQA,GAxEA;AAyEA;AACA,WADA,qBACA;AACA;AACA,mBADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA;AAQA,KAbA;AAcA,YAdA,sBAcA;AACA;AACA,gEADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA,yBADA;AAEA,2CAFA;;AAIA;AACA,SAVA;AAWA,YAXA,gBAWA,GAXA,EAWA;AACA;AACA,SAbA;;;AAgBA,KA/BA;AAgCA,cAhCA,wBAgCA;AACA;AACA;AACA,mBADA;AAEA,+BAFA;AAGA;AACA,gCADA;AAEA,yBAFA;AAGA,8BAHA,EAHA;;;AASA;AACA;;AAEA;AACA;AACA,qBADA;AAEA,qDAFA;AAGA,2BAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OANA;AAOA,KA/DA;AAgEA,aAhEA,uBAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,EAIA,IAJA;AAKA;AACA,KA/EA;AAgFA,eAhFA,yBAgFA;AACA;AACA;AACA;AACA,uBADA,EACA;AACA,qBAFA,CAEA;AAFA;AAIA;AACA,KAxFA;AAyFA,aAzFA,uBAyFA;AACA;AACA;AACA;AACA,KA7FA;AA8FA;AACA,YA/FA,sBA+FA;AACA;AACA,sCADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA;;AAGA,aAJA,MAIA;AACA;AACA,2BADA;AAEA,iCAFA;AAGA,iCAHA;;AAKA;AACA,WAZA;AAaA,SAnBA;;AAqBA,KArHA;AAsHA;AACA,aAvHA,uBAuHA;AACA;AACA,KAzHA;AA0HA;AACA,gBA3HA,wBA2HA,CA3HA,EA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlIA;AAmIA,mBAnIA,2BAmIA,IAnIA,EAmIA,KAnIA,EAmIA;AACA;;AAEA;AACA,8BADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAJA;AAKA,SAXA;AAYA;AACA;AACA,SAdA;;AAgBA,KAtJA;AAuJA;AACA,aAxJA,qBAwJA,CAxJA,EAwJA;AACA;AACA,sCADA;AAEA;AACA,kCADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,WApBA;AAqBA;AACA,SA5BA;;AA8BA,KAvLA;AAwLA;AACA,cAzLA,sBAyLA,IAzLA,EAyLA,KAzLA,EAyLA;AACA;AACA;AACA;AACA,iCADA;AAEA;AACA;AACA;AACA,WAHA,EAFA;;;AAQA,KApMA,EAzEA,E;;;;;;;;;;;;;ACvGA;AAAA;AAAA;AAAA;AAAknC,CAAgB,+lCAAG,EAAC,C;;;;;;;;;;;ACAtoC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/appraisalRoom/appraisalRoom.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/appraisalRoom/appraisalRoom.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./appraisalRoom.vue?vue&type=template&id=38423888&scoped=true&\"\nvar renderjs\nimport script from \"./appraisalRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./appraisalRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./appraisalRoom.vue?vue&type=style&index=0&id=38423888&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38423888\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/appraisalRoom/appraisalRoom.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appraisalRoom.vue?vue&type=template&id=38423888&scoped=true&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.textFlag = !_vm.textFlag\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appraisalRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appraisalRoom.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"appraisalRoom\" v-if=\"loadings\">\r\n    <view class=\"room-title\">\r\n      <view class=\"h1\">\r\n        鉴定室\r\n        <view class=\"a\">\r\n          <image src=\"../../static/kf.png\" mode=\"\"></image>客服\r\n          <button class=\"user_kf\" open-type='contact'>联系客服</button>\r\n        </view>\r\n      </view>\r\n      <view class=\"p\">第{{data.noid}}号 {{data.level}} {{data.genre}} {{data.name}}</view>\r\n    </view>\r\n\r\n    <view class=\"room-swiper\">\r\n      <swiper class=\"swiper\" :current=\"current\" :indicator-dots=\"false\" @change=\"swiperChange\" previous-margin=\"50rpx\"\r\n        next-margin=\"50rpx\">\r\n        <swiper-item v-for=\"(item,index) in photoList\" :key=\"index\">\r\n          <view class=\"end-item\" v-if=\"end && index == photoList.length-1\">\r\n            <view class=\"h1\">添加额外照片（可选）</view>\r\n            <view class=\"imglist\">\r\n              <view class=\"other-img\" v-for=\"(ite,idx) in otherList\" :key=\"idx\" @click=\"changeOtherList(ite,idx)\">\r\n                <image :src=\"ite.image\" mode=\"aspectFill\"></image>\r\n              </view>\r\n              <view v-if=\"otherList.length < 3\" class=\"other-upload\" @click=\"otherImg\">+</view>\r\n            </view>\r\n            <view class=\"h1\">文字消息（可选）</view>\r\n            <block v-if=\"textFlag\">\r\n              <textarea rows='50' cols='3' class=\"other-txt\" type=\"text\" v-model=\"text\" :placeholder=\"placeholder\" />\r\n            </block>\r\n            <block v-else>\r\n              <block v-if=\"voicePath != ''\">\r\n                <view class=\"playVoice\" @click=\"playVoice\">\r\n                  {{voiceNum}}\r\n                  <image src=\"../../static/voice.gif\" v-if=\"voicePlay\"></image>\r\n                  <image src=\"../../static/voice_b.png\" v-else></image>\r\n                </view>\r\n              </block>\r\n              <view class=\"voice-btn\" :class=\"{revoic: voicePath != ''}\" @touchstart=\"startRecord\" @touchend=\"endRecord\">{{voicePath != ''?\"重新录制\":\"按住说话\"}}</view>\r\n            </block>\r\n\r\n            <view class=\"cut-wrap\">\r\n              <view class=\"cut-btn\" @click=\"textFlag = !textFlag\">\r\n                <image src=\"../../static/voice.png\" mode=\"\" v-if=\"textFlag\"></image>\r\n                <image src=\"../../static/icon_message.png\" mode=\"widthFix\" v-else></image>\r\n                {{textFlag?\"切换语音\":\"切换文本\"}}\r\n              </view>\r\n            </view>\r\n          </view>\r\n          <view class=\"swiper-item\" @click=\"previewImg(item,index)\" v-else>\r\n            <image :src=\"item.image\" mode=\"aspectFill\"></image>\r\n              <span class=\"see-big\" v-if=\"index != photoList.length-1 && detailsImage[index].image == photoList[index].image\"></span>\r\n          </view>\r\n        </swiper-item>\r\n      </swiper>\r\n    </view>\r\n\r\n    <block v-if=\"!end\">\r\n      <view class=\"camera-wrap\" @click=\"takePhoto\">\r\n        <image src=\"../../static/camera_play.png\" mode=\"aspectFill\"></image>\r\n      </view>\r\n      <view class=\"finish-wrap\">请拍摄【{{current+1}}/{{photoList.length-1}}{{name}}】</view>\r\n    </block>\r\n\r\n\r\n    <view class=\"desc\">左右滑动可跳过或重拍</view>\r\n\r\n    <block v-if=\"!end\">\r\n      <view class=\"watchvideo\" @click=\"showVideo\">\r\n        <image src=\"../../static/watch_video.png\" mode=\"aspectFill\"></image>\r\n      </view>\r\n    </block>\r\n\r\n    <block v-if=\"end\">\r\n      <view class=\"submit-btn\" @click=\"submitInfo\">提交鉴定</view>\r\n    </block>\r\n\r\n    <uni-popup ref=\"popupVideo\" type=\"center\">\r\n      <video src=\"http://www.w3school.com.cn/example/html5/mov_bbb.mp4\" type=\"video/mp4\" controls></video>\r\n    </uni-popup>\r\n\r\n    <uni-popup ref=\"popupSuccess\" :maskClick=\"false\" type=\"center\" class=\"successMasker\">\r\n      <view class=\"success-wrap\">\r\n        <view class=\"circle-success\">\r\n          <view class=\"css-icon icon-check\"></view>\r\n        </view>\r\n        <view class=\"h1\">提交成功</view>\r\n        <view class=\"p\">常规响应时间为10:00~20:30，<br>非常规工作时间响应速度可能有所延长，<br>请注意查收进度收推送通知</view>\r\n      </view>\r\n      <view class=\"success-btn\">\r\n        <navigator class=\"a\" open-type=\"switchTab\" url=\"/pages/index/index\">返回首页</navigator>\r\n        <navigator class=\"a black\" :url=\"'/pages/IdentRoom/IdentRoom?id=' + id\">回鉴定室</navigator>\r\n      </view>\r\n    </uni-popup>\r\n    <view v-if=\"record\" class=\"record\">\r\n      <image src=\"../../static/record.gif\" mode=\"scaleToFill\"></image>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  // 录音\r\n  const recorderManager = uni.getRecorderManager();\r\n  const innerAudioContext = uni.createInnerAudioContext();\r\n  export default {\r\n    data() {\r\n      return {\r\n        current: 0,\r\n        photoList: [], //循环图\r\n        otherList: [], //其他图\r\n        detailsImage:[], //获取示例图\r\n        previewImgList: [], //预览图\r\n        finishImg: [], //上传完成后的图，用于表单提交\r\n        end: false, //是否最后一个slide\r\n        textFlag: true, //切换文本语音开关\r\n        text: '', //文本\r\n        voicePath: '', //语音地址\r\n        voiceUrl: '',\r\n        voiceNum: 0,\r\n        voiceLength: 0,\r\n        timer: '',\r\n        record: false,\r\n        voicePlay: false,\r\n        data: {},\r\n        id: '',\r\n        name: '整体照',\r\n\t\tplaceholder:'请输入文字回复',\r\n    loadings:false\r\n      };\r\n    },\r\n    onLoad(option) {\r\n      uni.showLoading({\r\n          title: '加载中'  \r\n      });\r\n      this.id = option.id\r\n      this.$requestApi.authdetails({id:this.id}).then((res)=>{\r\n        this.detailsImage = res.data.details\r\n      })\r\n      this.getData()\r\n      recorderManager.onError((res) => {\r\n        // 录音失败的回调处理\r\n        console.log('#######录音失败############');\r\n        // uni.showModal({\r\n        //   title: \"提示\",\r\n        //   content: \"录音失败\"\r\n        // })\r\n      });\r\n      recorderManager.onStop((res) => {\r\n        console.log('recorder stop' + JSON.stringify(res));\r\n        this.voicePath = res.tempFilePath;\r\n        this.voiceNum = Math.round(res.duration / 1000) //四舍五入秒数\r\n        this.voiceLength = Math.round(res.duration / 1000) //四舍五入秒数\r\n        uni.uploadFile({\r\n          url: this.$upLoadUrl,\r\n          filePath: this.voicePath,\r\n          name: 'avatar',\r\n          header: {\r\n            \"content-type\": \"multipart/form-data\"\r\n          },\r\n          formData: {\r\n            //和服务器约定的token, 一般也可以放在header中\r\n            'pathname': 'lisence',\r\n          },\r\n          success: res => {\r\n            console.log(res)\r\n          }\r\n        })\r\n      });\r\n      innerAudioContext.onEnded(res => {\r\n        console.log(\"播放完毕\")\r\n        this.voicePlay = false\r\n        if (this.timer) {\r\n          this.voiceNum = this.voiceLength\r\n          clearInterval(this.timer)\r\n        }\r\n      })\r\n    },\r\n    methods: {\r\n      getData() {\r\n        let params = {\r\n          id: this.id\r\n        }\r\n        this.$requestApi.authdetails(params).then(res => {\r\n          this.data = res.data\r\n          uni.hideLoading()\r\n          this.loadings = true\r\n          this.photoList = res.data.details\r\n          this.photoList.push({})\r\n          this.name = res.data.details[0].name\r\n        })\r\n      },\r\n\t  authuser(){\r\n\t  \t\t  wx.requestSubscribeMessage({\r\n\t  \t\t    tmplIds: ['U_9kL6pmwoYljBLrxUFPPnnsyoQ9nbNgIlpnoUF0ewU'],\r\n\t  \t\t    success (res) { \r\n\t\t\t\t\tconsole.log(res,'success')\r\n\t  \t\t\t\t\tif(res['U_9kL6pmwoYljBLrxUFPPnnsyoQ9nbNgIlpnoUF0ewU']!='accept'){\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle:'提示',\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent:'请允许消息通知，否则接收不到消息提醒'\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t  \t\t  \t\t\t},\r\n\t  \t\t  \t\t\tfail(res){\r\n\t  \t\t  \t\t\t\tconsole.log(res,'fail')\r\n\t  \t\t  \t\t\t},\r\n\t  \t\t  }); \r\n\t  \t\t  \r\n\t  },\r\n      submitInfo() {\r\n\t\t  this.authuser();\r\n        let params = {\r\n          id: this.id,\r\n          details: this.finishImg,\r\n          attach: {\r\n            images: this.otherList,\r\n            text: this.text,\r\n            voice: this.voiceUrl\r\n          }\r\n        }\r\n        let len1 = this.photoList.length - 1\r\n        let len2 = params.details.length\r\n\t\t\r\n        if (len1 != len2) {\r\n          uni.showModal({\r\n            title: '提示',\r\n            content: \"还剩 \" + (len1 - len2) + \" 张照片没有上传\",\r\n            showCancel: false\r\n          })\r\n          return;\r\n        }\r\n        params.attach = JSON.stringify(params.attach)\r\n        console.log(params)\r\n        this.$requestApi.submitAppraisal(params).then(res => {\r\n          console.log(res.data)\r\n\t\t  this.placeholder = '';\r\n\t\t  this.text = '';\r\n          this.$refs.popupSuccess.open()\r\n\t\t  \r\n        })\r\n      },\r\n      playVoice() {\r\n        console.log(this.voicePath, '播放')\r\n        this.voicePlay = true\r\n        if (this.timer) {\r\n          clearInterval(this.timer)\r\n        }\r\n        if (this.voicePath) {\r\n          innerAudioContext.src = this.voicePath;\r\n          innerAudioContext.play();\r\n          this.timer = setInterval(() => {\r\n            if (this.voiceNum >= 1) {\r\n              this.voiceNum--\r\n            }\r\n          }, 1000)\r\n        }\r\n      },\r\n      startRecord() {\r\n        console.log('开始录音');\r\n        this.record = true\r\n        recorderManager.start({\r\n          duration: 60000, //录音时长：一分钟\r\n          format: 'mp3', //音频格式 ：mp3格式\r\n        });\r\n        // recorderManager.start();\r\n      },\r\n      endRecord() {\r\n        console.log('录音结束');\r\n        this.record = false\r\n        recorderManager.stop();\r\n      },\r\n      //额外照片\r\n      otherImg() {\r\n        uni.showActionSheet({\r\n          itemList: ['相机拍照', '从相册中选择图片'],\r\n          success: res => {\r\n            let type = res.tapIndex\r\n            var album = ['camera', 'album']\r\n            album = [album[type]]\r\n            this.$uploadPhoto(album, (data) => {\r\n              if (this.otherList.length <= 3) {\r\n                this.otherList.push({\r\n                  image: data.data\r\n                })\r\n              } else {\r\n                uni.showModal({\r\n                  title: '提示',\r\n                  content: '最多上传三张',\r\n                  showCancel: false\r\n                })\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      //显示视频\r\n      showVideo() {\r\n        this.$refs.popupVideo.open()\r\n      },\r\n      //判断最后一个swiper\r\n      swiperChange(e) {\r\n        this.current = e.detail.current\r\n        this.name = this.photoList[this.current].name\r\n        this.end = false\r\n        if (e.detail.current == this.photoList.length - 1) {\r\n          this.end = true\r\n        }\r\n      },\r\n\t  changeOtherList(item,index) {\r\n\t    // console.log(index, 'indexindex')\r\n\t  \r\n\t    uni.showActionSheet({\r\n\t      itemList: ['拍照', '相册'],\r\n\t      success: res => {\r\n\t        let type = res.tapIndex\r\n\t        let album = ['camera', 'album']\r\n\t        album = [album[type]]\r\n\t        this.$uploadPhoto(album, (data) => {\r\n\t\t\t\tthis.otherList.splice(index,1,{image: data.data})\r\n\t  \t\t\t console.log(this.otherList);  \r\n\t  \t\t\t \r\n\t        });\r\n\t      },\r\n\t      fail: function(res) {\r\n\t        console.log(res.errMsg);\r\n\t      },\r\n\t    });\r\n\t  },\r\n      // 拍照\r\n      takePhoto(e) {\r\n        uni.showActionSheet({\r\n          itemList: ['相机拍照', '从相册中选择图片'],\r\n          success: res => {\r\n            let type = res.tapIndex;//tapIndex: 1==>相册选择  tapIndex: 0==》相机拍照\r\n            var album = ['camera', 'album']\r\n            album = [album[type]]\r\n            this.$uploadPhoto(album, (data) => {\r\n              console.log(data.data,'232323232');\r\n              console.log(this.current,'数字下表');\r\n              this.photoList[this.current].image = data.data;\r\n\t\t\t  var name = this.photoList[this.current].name;\r\n              // this.finishImg.push(JSON.stringify(this.photoList[this.current]))\r\n              var appendflag = true;\r\n              for(var i=0;i<this.finishImg.length;i++){\r\n\t\t\t\t\tlet data = JSON.parse(this.finishImg[i])\r\n              \t\t\t\t  if(data.name==name){\r\n              \t\t\t\t\t  var newindex = i;\r\n              \t\t\t\t\t  appendflag = false;\r\n              \t\t\t\t  }\r\n              }\r\n              if(appendflag){\r\n\t\t\t\t   this.finishImg.push(JSON.stringify(this.photoList[this.current]))\r\n              }else{\r\n\t\t\t\t  this.finishImg.splice(newindex,1,JSON.stringify(this.photoList[this.current]))\r\n              }\r\n              console.log(this.finishImg);\r\n            })\r\n            // this.uploadPhoto(album,true)\r\n          }\r\n        })\r\n      },\r\n      //预览图片\r\n      previewImg(item,index) {\r\n        console.log(item,'item');\r\n        this.previewImgList = [item.image]\r\n        uni.previewImage({\r\n          urls: this.previewImgList,\r\n          longPressActions:{\r\n            success:function(index){\r\n              console.log(index);\r\n            }\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .record {\r\n    position: fixed;\r\n    right: 20upx;\r\n    bottom: 20upx;\r\n    background: rgba(0, 0, 0, .6);\r\n    width: 300upx;\r\n    height: 340upx;\r\n    text-align: center;\r\n    border-radius: 10upx;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    image {\r\n      width: 200upx;\r\n      height: 170upx;\r\n    }\r\n  }\r\n\r\n  .successMasker {\r\n    /deep/ .uni-popup__wrapper-box {\r\n      border-radius: 16upx;\r\n      padding: 0 !important;\r\n    }\r\n\tz-index:99999;\r\n  }\r\n\r\n  .appraisalRoom {\r\n    .success-btn {\r\n      display: flex;\r\n\r\n      .a {\r\n        flex: 1;\r\n        text-align: center;\r\n        line-height: 100upx;\r\n        background: #BE9F62;\r\n        color: #FFFFFF;\r\n\r\n        &.black {\r\n          background: #35363B;\r\n        }\r\n      }\r\n    }\r\n\r\n    .success-wrap {\r\n      width: 620upx;\r\n      padding: 60upx 30upx 30upx;\r\n      box-sizing: border-box;\r\n      text-align: center;\r\n\t  z-index:99999;\r\n      .h1 {\r\n        font-size: 42upx;\r\n        font-weight: bold;\r\n        margin-bottom: 20upx;\r\n      }\r\n\r\n      .p {\r\n        color: #999999;\r\n        line-height: 44upx;\r\n      }\r\n\r\n      .circle-success {\r\n        width: 120upx;\r\n        height: 120upx;\r\n        margin: 0 auto 30upx;\r\n        text-align: center;\r\n        line-height: 120upx;\r\n        border-radius: 120upx;\r\n        background: #BE9F62;\r\n\r\n        .icon-check {\r\n          margin-top: -10upx;\r\n\r\n          &::before {\r\n            border-color: #FFFFFF;\r\n            height: 20upx;\r\n            width: 36upx;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .playVoice {\r\n      line-height: 90upx;\r\n      text-align: center;\r\n      background: #C9AB79;\r\n      margin-bottom: 20upx;\r\n      border-radius: 8upx;\r\n      font-size: 26upx;\r\n      color: #FFFFFF;\r\n      text-align: right;\r\n      padding: 0 30upx;\r\n\r\n      image {\r\n        width: 29upx;\r\n        height: 27upx;\r\n        margin-left: 10upx;\r\n        vertical-align: middle;\r\n      }\r\n    }\r\n\r\n    .voice-btn {\r\n      line-height: 90upx;\r\n      text-align: center;\r\n      background: #C9AB79;\r\n      border-radius: 8upx;\r\n      color: #FFFFFF;\r\n      font-size: 26upx;\r\n\r\n      &.revoic {\r\n        background: #35363B;\r\n        color: #C9AB79;\r\n      }\r\n    }\r\n\r\n    .cut-wrap {\r\n      margin-top: 30upx;\r\n      text-align: center;\r\n\r\n      .cut-btn {\r\n        display: inline-block;\r\n        color: #999999;\r\n        font-size: 26upx;\r\n\r\n        image {\r\n          width: 22upx;\r\n          height: 28upx;\r\n          vertical-align: middle;\r\n          margin: -3upx 7upx 0 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    .other-txt {\r\n      width: 100%;\r\n      height: 150upx;\r\n      box-sizing: border-box;\r\n      padding: 25upx 20upx;\r\n      line-height: 40upx;\r\n      font-size: 26upx;\r\n      background: #FFFFFF;\r\n      letter-spacing: 5px;\r\n    }\r\n\r\n    .submit-btn {\r\n      width: 622upx;\r\n      line-height: 100upx;\r\n      text-align: center;\r\n      background: #35363B;\r\n      border-radius: 8upx;\r\n      color: #C9AB79;\r\n      font-size: 32upx;\r\n      margin: 90upx auto 0;\r\n    }\r\n\r\n    .watchvideo {\r\n      text-align: center;\r\n\r\n      image {\r\n        width: 236upx;\r\n        height: 60upx;\r\n      }\r\n    }\r\n\r\n    .desc {\r\n      text-align: center;\r\n      color: #C1C1C1;\r\n      margin-bottom: 20upx;\r\n    }\r\n\r\n    .finish-wrap {\r\n      text-align: center;\r\n      font-size: 32upx;\r\n      color: #333333;\r\n      line-height: 40upx;\r\n      margin-bottom: 10upx;\r\n    }\r\n\r\n    .camera-wrap {\r\n      text-align: center;\r\n      margin-bottom: 30upx;\r\n\r\n      image {\r\n        width: 160upx;\r\n        height: 160upx;\r\n      }\r\n    }\r\n\r\n    .room-swiper {\r\n      padding: 0 0 0 0;\r\n\r\n      .swiper {\r\n        height: 620upx;\r\n        margin-bottom: 20upx;\r\n      }\r\n\r\n      .end-item {\r\n        width: 620upx;\r\n        height: 620upx;\r\n        background: #F8F8F8;\r\n        border-radius: 8upx;\r\n        margin: 0 auto;\r\n        padding: 30upx;\r\n        box-sizing: border-box;\r\n\r\n        .h1 {\r\n          font-size: 30upx;\r\n          font-weight: bold;\r\n          margin-bottom: 20upx;\r\n        }\r\n\r\n        .other-upload {\r\n          text-align: center;\r\n          width: 120upx;\r\n          line-height: 120upx;\r\n          overflow: hidden;\r\n          background: #FFFFFF;\r\n          font-size: 48upx;\r\n          color: #C1C1C1;\r\n        }\r\n\r\n        .imglist {\r\n          display: flex;\r\n          margin-bottom: 30upx;\r\n\r\n          .other-img {\r\n            width: 120upx;\r\n            height: 120upx;\r\n            border-radius: 10upx;\r\n            overflow: hidden;\r\n            margin-right: 20upx;\r\n\r\n            image {\r\n              width: 100%;\r\n              height: 100%;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .swiper-item {\r\n        position: relative;\r\n        margin: 0 auto;\r\n        width: 620upx;\r\n        height: 620upx;\r\n        border-radius: 20upx;\r\n        overflow: hidden;\r\n\r\n        .see-big {\r\n          position: absolute;\r\n          right: 0;\r\n          bottom: 0;\r\n          width: 280upx;\r\n          height: 48upx;\r\n          background: url(../../static/big_img.png) no-repeat center;\r\n          background-size: cover;\r\n        }\r\n\r\n        image {\r\n          width: 620upx;\r\n          height: 620upx;\r\n        }\r\n      }\r\n    }\r\n\r\n    .room-title {\r\n      padding: 50upx 64upx 0;\r\n\r\n      .p {\r\n        font-size: 28upx;\r\n        line-height: 40upx;\r\n        color: #999A9B;\r\n        margin-bottom: 40upx;\r\n      }\r\n\r\n      .h1 {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        font-size: 48upx;\r\n        font-weight: bold;\r\n        line-height: 60upx;\r\n        margin-bottom: 10upx;\r\n\r\n        .a {\r\n          position: relative;\r\n          font-size: 28upx;\r\n\r\n          image {\r\n            width: 39upx;\r\n            height: 43upx;\r\n            vertical-align: middle;\r\n            margin: -3upx 10upx 0 0;\r\n          }\r\n          .user_kf {\r\n          \twidth: 100%;\r\n          \theight: 100%;\r\n          \tposition: absolute;\r\n          \ttop: 0;\r\n          \tleft: 0;\r\n          \topacity: 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appraisalRoom.vue?vue&type=style&index=0&id=38423888&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appraisalRoom.vue?vue&type=style&index=0&id=38423888&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592967476366\n      var cssReload = require(\"E:/张东旭/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}