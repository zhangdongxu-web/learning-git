{"version":3,"sources":["uni-app:///main.js","webpack:///E:/张东旭/baopuqiantai/pages/appraisalReport/appraisalReport.vue?6a4a","webpack:///E:/张东旭/baopuqiantai/pages/appraisalReport/appraisalReport.vue?e870","webpack:///E:/张东旭/baopuqiantai/pages/appraisalReport/appraisalReport.vue?b6bb","webpack:///E:/张东旭/baopuqiantai/pages/appraisalReport/appraisalReport.vue?4954","uni-app:///pages/appraisalReport/appraisalReport.vue","webpack:///E:/张东旭/baopuqiantai/pages/appraisalReport/appraisalReport.vue?969b","webpack:///E:/张东旭/baopuqiantai/pages/appraisalReport/appraisalReport.vue?4b68"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,2H;AACAA,UAAU,CAACC,wBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwI;AACxI;AACmE;AACL;AACsC;;;AAGpG;AACgK;AAChK,gBAAgB,6KAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,sGAAM;AACR,EAAE,+GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA6lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;ACYjnB;AACA,MADA,kBACA;AACA;AACA,aADA;AAEA,mBAFA;AAGA;AACA;AACA,qBALA,EAKA;AACA,sBANA,EAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA,OAPA;;AAuBA,GAzBA;AA0BA,QA1BA,kBA0BA,MA1BA,EA0BA;AACA;AACA,GA5BA;AA6BA,SA7BA,qBA6BA;AACA;AACA,GA/BA;AAgCA;AACA,WADA,qBACA;AACA;AACA,mBADA;;AAGA;;AAEA;;AAEA;AACA,6BADA;AAEA,+CAFA;AAGA,qCAHA;AAIA;AACA,sCALA;AAMA,mCANA;AAOA,mCAPA;AAQA,mCARA;AASA,yBATA;AAUA,iCAVA;AAWA;AACA;AACA;AACA;AACA;AAfA;AAiBA;AACA;AACA,SArBA,MAqBA;AACA;AACA;AACA,OA1BA;AA2BA,KAhCA;AAiCA,aAjCA,uBAiCA;AACA;AACA;AACA,gCADA;AAEA;AACA;AACA,yBADA;AAEA,0BAFA;;AAIA;AACA,SARA;AASA;AACA;AACA;AACA,yBADA;AAEA,kCAFA;AAGA,+BAHA;AAIA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,oDAFA;AAGA,yCAHA;;AAKA,qBANA,MAMA;AACA;AACA,mCADA;AAEA,oDAFA;AAGA,yCAHA;;AAKA;AACA,mBAfA;;AAiBA,eAtBA;;AAwBA;AACA,SApCA;;AAsCA,KAzEA;AA0EA;AACA,WA3EA,mBA2EA,MA3EA,EA2EA;AACA,uBADA,GACA;AACA;AACA,+BADA;AAEA,oCAFA;AAGA,iCAHA;;AAKA,iBANA,CADA;AAQA,uBARA;AASA,KApFA;AAqFA;AACA,YAtFA,oBAsFA,MAtFA,EAsFA,GAtFA,EAsFA,UAtFA,EAsFA,WAtFA,EAsFA,OAtFA,EAsFA,UAtFA,EAsFA;AACA;AACA;AACA;AACA;AACA,8BALA,CAKA;AACA;AACA;AACA;AACA,kFADA,CACA;AACA,+BAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KA1GA;AA2GA;AACA,eA5GA,uBA4GA,MA5GA,EA4GA,KA5GA,EA4GA,SA5GA,EA4GA,MA5GA,EA4GA,OA5GA,EA4GA;AACA;AACA;AACA;AACA;AACA;AACA,KAlHA;AAmHA,gBAnHA,0BAmHA;AACA;AACA;AACA,8BADA;AAEA,4BAFA;;AAIA,uBANA,GAMA,sCANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AAhEA,2CAiEA,0EAjEA,SAiEA,EAjEA;AAkEA,4EAlEA;AAmEA,4FAnEA,UAmEA,EAnEA;AAoEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BA5EA,GA4EA,GA5EA;AA6EA;AACA,oBA9EA,GA8EA,mEA9EA;AA+EA,iBA/EA,GA+EA,CA/EA,eA+EA,8BA/EA;AAgFA,uDAhFA;AAiFA,wDAjFA,UAiFA,EAjFA;AAkFA,uFAlFA,QA+EA,GA/EA;;AAoFA;AACA;AACA,yBAtFA,GAsFA,+BAtFA;AAuFA,2BAvFA,GAuFA,iCAvFA;AAwFA,2BAxFA,GAwFA,iCAxFA;AAyFA,sBAzFA,GAyFA,iCAzFA;AA0FA;AACA;AACA;AACA,uBA7FA,GA6FA,OA7FA;AA8FA,uBA9FA,GA8FA,MA9FA;AA+FA;AACA;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA;AACA,iBAPA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBA3HA,GA2HA,4DA3HA;AA4HA,mCA5HA,UA4HA,UA5HA;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,0BAFA;AAGA,6CAHA;AAIA,qCAJA;AAKA,gCALA;AAMA,kDANA;AAOA,oDAPA;AAQA;AACA;AACA;AACA,uBAXA;AAYA;AACA;;AAEA;AACA,sCADA;AAEA,2CAFA;;AAIA;AACA;AACA,uBArBA;;AAuBA,mBAzBA,EAyBA,IAzBA;AA0BA,iBA5BA,EA7IA;AA0KA,KA7RA,EAhCA,E;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAonC,CAAgB,imCAAG,EAAC,C;;;;;;;;;;;ACAxoC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/appraisalReport/appraisalReport.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/appraisalReport/appraisalReport.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./appraisalReport.vue?vue&type=template&id=2b8533fa&scoped=true&\"\nvar renderjs\nimport script from \"./appraisalReport.vue?vue&type=script&lang=js&\"\nexport * from \"./appraisalReport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./appraisalReport.vue?vue&type=style&index=0&id=2b8533fa&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b8533fa\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/appraisalReport/appraisalReport.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appraisalReport.vue?vue&type=template&id=2b8533fa&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appraisalReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appraisalReport.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"report\">\r\n    <image :src=\"canvasImg\" :style=\"{height: cheight / 2 + 'px'}\" mode=\"widthFix\"></image>\r\n    <canvas class=\"canvas_img\" :style=\"{width: cwidth + 'px', height:cheight + 'px'}\" canvas-id=\"firstCanvas\"></canvas>\r\n    <view class=\"start-btn\" @click=\"savePhoto\">保存到手机</view>\r\n\t<!-- <cover-view class=\"saveBox\" v-if=\"show\">\r\n\t\t<cover-view class=\"saveTie\">{{text}}</cover-view>\r\n\t</cover-view> -->\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        err: \"\",\r\n        canvasImg: \"\",\r\n\t\t// show:false,\r\n\t\t// text:'',\r\n        cwidth: 690 * 2, //放大四倍保持真机清晰度\r\n        cheight: 980 * 2, //放大四倍保持真机清晰度\r\n        data: {\r\n          // title: \"实物鉴定评估报告\",\r\n          // stitle: \"PHYSICAL APPRAISAL REPORT\",\r\n          // classItem: \"香奈儿\",\r\n          // productItem: \"精细鉴定\",\r\n          // certificate: \"第12346号\",\r\n          // basis: [\"QB/T 1333-2004/ISO1717313131\"],\r\n          // result: \"该商品符合该产品工艺制造工艺\",\r\n          // imgList: [\"https://raw.githubusercontent.com/xh747364/blog-photolist/master/photos/2019-08-03_timg.jpg\",\r\n          // \"https://raw.githubusercontent.com/xh747364/blog-photolist/master/photos/2019-08-03_timg.jpg\",\r\n          // ],\r\n          // person: \"张先生\",\r\n          // company: \"北京包铺鉴定有限公司\",\r\n          // desc: [\"1、实物鉴定结论不可作为司法用途\", \"2、本电子证书对该商品负责，一旦该商品的电子吊牌，防伪贴纸，挂绳任意一件损坏，此证书立即失效\", \"3、若对鉴定结果有异议，需要在5日内提出，逾期不予受理\"]\r\n        }\r\n      };\r\n    },\r\n    onLoad(option) {\r\n      this.id = option.id\r\n    },\r\n    mounted() {\r\n      this.getData()\r\n    },\r\n    methods: {\r\n      getData(){\r\n        let params = {\r\n          id: this.id\r\n        }\r\n        this.$requestApi.goodsOver(params).then(res => {\r\n\t\t\t\r\n\t\t\tif(res.data.report==\"\"){\r\n\t\t\t\t\r\n          this.data = {\r\n            title: \"实物鉴定评估报告\",\r\n            stitle: \"PHYSICAL APPRAISAL REPORT\",\r\n            classItem: res.data.brand,\r\n            // productItem: \"精细鉴定\",\r\n            certificate: res.data.cate,\r\n            basis: [res.data.basis],\r\n            result: res.data.result,\r\n            imgList: res.data.image,\r\n            person: \"张先生\",\r\n            company: \"北京包铺鉴定有限公司\",\r\n            desc: [\"1、实物鉴定结论不可作为司法用途\", \"2、本电子证书对该商品负责，一旦该商品的电子吊牌，防伪贴纸，挂绳任意一件损坏，此证书立即失效\", \"3、若对鉴定结果有异议，需要在5日内提出，逾期不予受理\"]\r\n            // certificate: res.data.cate,\r\n            // basis: [res.data.basis],\r\n            // result: res.data.result,\r\n            // imgList: res.data.image,\r\n          }\r\n          console.log(res.data)\r\n          this.createReport()\r\n\t\t  }else{\r\n\t\t\t  this.canvasImg = res.data.report\r\n\t\t  }\r\n        })\r\n      },\r\n      savePhoto() {\r\n\t\t  let that = this;\r\n        uni.saveImageToPhotosAlbum({\r\n          filePath: this.canvasImg,\r\n          success: (res) => {\r\n            uni.showToast({\r\n            \ttitle:'下载成功',\r\n\t\t\t\tduration:2000,\r\n            })\r\n            console.log('save success',res);\r\n          },\r\n          fail: (err) => {\r\n            if (err.errMsg === \"saveImageToPhotosAlbum:fail:auth denied\" || err.errMsg === \"saveImageToPhotosAlbum:fail auth deny\") {\r\n              uni.showModal({\r\n                title: '提示',\r\n                content: '需要您授权保存相册',\r\n                showCancel: false,\r\n                success: (res) =>{\r\n                  uni.openSetting({\r\n                    success: (res) => {\r\n                      if (res.authSetting['scope.writePhotosAlbum']) {\r\n                        uni.showModal({\r\n                          title: '提示',\r\n                          content: '获取权限成功,再次点击图片即可保存',\r\n                          showCancel: false,\r\n                        })\r\n                      } else {\r\n                        uni.showModal({\r\n                          title: '提示',\r\n                          content: '获取权限失败，将无法保存到相册哦~',\r\n                          showCancel: false,\r\n                        })\r\n                      }\r\n                    }\r\n                  })\r\n                }\r\n              })\r\n            }\r\n          }\r\n        });\r\n      },\r\n      // 绘制图片封装\r\n      async drawImg(imgsrc) {\r\n        var promise = new Promise((resolve, reject) => {\r\n          uni.getImageInfo({\r\n            src: imgsrc,\r\n            success: resolve,\r\n            fail: resolve\r\n          })\r\n        })\r\n        return promise\r\n      },\r\n      // 多行文字封装\r\n      drawText(_paint, str, initHeight, titleHeight, offleft, _fontStyle) {\r\n        var canvasWidth = this.cwidth - 140 * 2\r\n        var lineWidth = 0;\r\n        _paint.font = _fontStyle ? _fontStyle : \"400 40px 微软雅黑\";\r\n        _paint.fillStyle = \"#35363B\";\r\n        var lastSubStrIndex = 0; //每次开始截取的字符串的索引\r\n        for (let i = 0; i < str.length; i++) {\r\n          lineWidth += _paint.measureText(str[i]).width;\r\n          if (lineWidth > canvasWidth) {\r\n            _paint.fillText(str.substring(lastSubStrIndex, i), offleft, initHeight); //绘制截取部分\r\n            initHeight += 40 * 2; //40为字体的高度\r\n            lineWidth = 0;\r\n            lastSubStrIndex = i;\r\n            titleHeight += 40 * 2;\r\n          }\r\n          if (i == str.length - 1) { //绘制剩余部分\r\n            _paint.fillText(str.substring(lastSubStrIndex, i + 1), offleft, initHeight);\r\n          }\r\n        }\r\n\r\n      },\r\n      //居中文字封装\r\n      canvas_text(_paint, _text, _fontSzie, _color, _height) {\r\n        _paint.font = _fontSzie;\r\n        _paint.fillStyle = _color;\r\n        _paint.textAlign = \"center\";\r\n        _paint.textBaseline = \"middle\";\r\n        _paint.fillText(_text, this.cwidth / 2, _height);\r\n      },\r\n      async createReport() {\r\n        //When I wrote this, only God and I understood what I was doing. Now, only God knows.\r\n        uni.showLoading({\r\n          title: '加载中',\r\n          mask: true\r\n        })\r\n        var context = uni.createCanvasContext('firstCanvas');\r\n        // context.scale(0.5, 0.5)\r\n        // 背景颜色\r\n        context.rect(0, 0, this.cwidth, this.cheight);\r\n        context.setFillStyle('#FFFFFF');\r\n        context.fill();\r\n        //边框\r\n        context.strokeStyle = '#C1C1C1';\r\n        context.save()\r\n        context.lineWidth = 4 * 2;\r\n        context.strokeRect(4 * 2, 4 * 2, this.cwidth - 8 * 2, this.cheight - 8 * 2);\r\n        context.restore()\r\n        // 内边框\r\n        context.save()\r\n        context.lineWidth = 1 * 2;\r\n        context.setLineDash([5, 5]);\r\n        // context.strokeStyle = '#C1C1C1';\r\n        context.strokeRect(16 * 2, 16 * 2, this.cwidth - 32 * 2, this.cheight - 32 * 2);\r\n        context.restore()\r\n\r\n        // 四个边角\r\n        // 左上角\r\n        context.save()\r\n        context.lineWidth = 3 * 2;\r\n        context.moveTo(15 * 2, 15 * 2)\r\n        context.lineTo(40 * 2, 15 * 2)\r\n        context.stroke()\r\n        context.moveTo(15 * 2, 14 * 2)\r\n        context.lineTo(15 * 2, 40 * 2)\r\n        context.stroke()\r\n        // 右上角\r\n        context.moveTo(this.cwidth - 40 * 2, 15 * 2)\r\n        context.lineTo(this.cwidth - 15 * 2, 15 * 2)\r\n        context.stroke()\r\n        context.moveTo(this.cwidth - 15 * 2, 14 * 2)\r\n        context.lineTo(this.cwidth - 15 * 2, 40 * 2)\r\n        context.stroke()\r\n        // 左下角\r\n        context.moveTo(15 * 2, this.cheight - 40 * 2)\r\n        context.lineTo(15 * 2, this.cheight - 15 * 2)\r\n        context.stroke()\r\n        context.moveTo(15 * 2, this.cheight - 15 * 2)\r\n        context.lineTo(40 * 2, this.cheight - 15 * 2)\r\n        context.stroke()\r\n        // 右下角\r\n        context.moveTo(this.cwidth - 15 * 2, this.cheight - 40 * 2)\r\n        context.lineTo(this.cwidth - 15 * 2, this.cheight - 15 * 2)\r\n        context.stroke()\r\n        context.moveTo(this.cwidth - 40 * 2, this.cheight - 15 * 2)\r\n        context.lineTo(this.cwidth - 15 * 2, this.cheight - 15 * 2)\r\n        context.stroke()\r\n        context.restore()\r\n\r\n        // 标题\r\n        context.save()\r\n        this.canvas_text(context, this.data.title, \"bold 80px 微软雅黑\", \"#C9AB79\", 80 * 2)\r\n        context.restore()\r\n        \r\n        // 装饰\r\n        var cl = await this.drawImg( getApp().globalData.img_src + '/assets/bpimg/canvas_l.png')\r\n        context.drawImage(cl.path, 110 * 2, 65 * 2, 56 * 2, 15 * 2)\r\n        var cr = await this.drawImg( getApp().globalData.img_src + '/assets/bpimg/canvas_r.png')\r\n        context.drawImage(cr.path, 520 * 2, 65 * 2, 56 * 2, 15 * 2)\r\n        \r\n        // 副标题\r\n        context.save()\r\n        this.canvas_text(context, this.data.stitle, \"400 32px 微软雅黑\", \"#C9AB79\", 120 * 2)\r\n        context.restore()\r\n        // 基本信息\r\n        context.save()\r\n        let infoTextHeight = 160\r\n        // 图片\r\n        var imgx = (this.cwidth - 160 * 2 * this.data.imgList.length - 40 * 2) / 2\r\n        for (var i = 0; i < this.data.imgList.length; i++) {\r\n          imgx = imgx + 160 * 2 * i + 40 * 2 * i\r\n          var a1 = await this.drawImg(this.data.imgList[i])\r\n          context.drawImage(a1.path, imgx, infoTextHeight * 2, 160 * 2, 160 * 2)\r\n        }\r\n        //记录文字高度\r\n        infoTextHeight += 100 * 2\r\n        let classItem = '商品品牌：' + this.data.classItem\r\n        let productItem = '商品品类：' + this.data.productItem\r\n        let certificate = '证书编号：' + this.data.certificate\r\n        let result = '结       论：' + this.data.result\r\n        this.drawText(context, classItem, (infoTextHeight) * 2, 40 * 2, 60 * 2)\r\n        this.drawText(context, productItem, (infoTextHeight + 40) * 2, 40 * 2, 60 * 2)\r\n        this.drawText(context, certificate, (infoTextHeight + 80) * 2, 40 * 2, 60 * 2)\r\n        var rheight = 210 * 2\r\n        var offleft = 60 * 2\r\n        infoTextHeight += 80\r\n        this.data.basis.map((x, y) => {\r\n          if (y == 0) {\r\n            x = \"鉴定依据：\" + x\r\n          } else {\r\n            offleft = 160 * 2\r\n          }\r\n          this.drawText(context, x, (infoTextHeight + 40 * (y + 1)) * 2, 40 * 2, offleft)\r\n        })\r\n        this.drawText(context, result, infoTextHeight * 2 + (40 * (this.data.basis.length + 1)) * 2, 40 * 2, 60 * 2)\r\n        infoTextHeight = rheight + (40 * (this.data.basis.length + 1)) * 2\r\n        context.restore()\r\n        infoTextHeight += 160 * 2\r\n        //文字\r\n        infoTextHeight += 80 * 2\r\n        // context.save()\r\n        // this.drawText(context, \"检验方：\", infoTextHeight, 40 * 2, 60 * 2, \"bold 44px 微软雅黑\", \"#000000\")\r\n        // context.restore()\r\n        // context.save()\r\n        // this.drawText(context, this.data.person, infoTextHeight + 40 * 2, 40 * 2, 60 * 2, \"0 40px 微软雅黑\", \"#636365\")\r\n        // context.restore()\r\n        // context.save()\r\n        // this.drawText(context, \"鉴定方：\", infoTextHeight, 40 * 2, 360 * 2, \"bold 44px 微软雅黑\", \"#000000\")\r\n        // context.restore()\r\n        context.save()\r\n        this.drawText(context, this.data.company, infoTextHeight + 80 * 2, 40 * 2, 360 * 2, \"0 40px 微软雅黑\", \"#636365\")\r\n        context.restore()\r\n        // 已鉴定图片\r\n        var a = getApp().globalData.img_src + \"/assets/bpimg/yijianding.png\"\r\n        var yijianding = await this.drawImg(a)\r\n        context.drawImage(yijianding.path, imgx + 30 * 2, infoTextHeight - 60 * 2, 158 * 2, 157 * 2)\r\n        // 备注\r\n        infoTextHeight += (40 * 2 + 80 * 2)\r\n        context.save()\r\n        this.drawText(context, \"备注：\", infoTextHeight, 40 * 2, 90 * 2, \"400 36px 微软雅黑\", \"#666666\")\r\n        infoTextHeight += 40 * 2\r\n        context.restore()\r\n        context.save()\r\n        this.drawText(context, this.data.desc[0], infoTextHeight, 40 * 2, 90 * 2, \"400 36px 微软雅黑\", \"#666666\")\r\n        infoTextHeight += 40 * 2\r\n        this.drawText(context, this.data.desc[1], infoTextHeight, 40 * 2 * 2, 90 * 2, \"400 36px 微软雅黑\", \"#666666\")\r\n        infoTextHeight += 40 * 2 * 2\r\n        this.drawText(context, this.data.desc[2], infoTextHeight, 40 * 2, 90 * 2, \"400 36px 微软雅黑\", \"#666666\")\r\n        context.restore()\r\n        console.log(infoTextHeight)\r\n        //渲染\r\n        context.draw(false, () => {\r\n          // 隐藏canvas使用image显示图片\r\n          setTimeout(() => {\r\n            console.log(1123213);\r\n            uni.canvasToTempFilePath({\r\n              x: 0,\r\n              y: 0,\r\n              canvasId: 'firstCanvas',\r\n              fileType: 'jpg',\r\n              quality: 1,\r\n              destWidth: this.cwidth / 2,\r\n              destHeight: this.cheight / 2,\r\n              success: (res) => {\r\n                this.canvasImg = res.tempFilePath;\r\n                uni.hideLoading();\r\n              },\r\n              fail: (res) => {\r\n                uni.hideLoading();\r\n\t\t\t\t\r\n                uni.showToast({\r\n                  icon: 'none',\r\n                  title: '生成失败,请重试'\r\n                });\r\n                this.err = JSON.stringify(res)\r\n                console.log(res)\r\n              }\r\n            })\r\n          }, 2000)\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .report {\r\n    position: relative;\r\n    width: 690upx;\r\n    margin: 40upx auto;\r\n    overflow: hidden;\r\n    padding-bottom: 120upx;\r\n    canvas {\r\n      position: absolute;\r\n      right: -66666px;\r\n\t  visibility: hidden;\r\n    }\r\n\r\n    image {\r\n      width: 100%;\r\n      height: 980upx;\r\n    }\r\n\r\n    .start-btn {\r\n      position: fixed;\r\n      bottom: 0;\r\n      left: 0;\r\n      z-index: 99999;\r\n      width: 100%;\r\n      line-height: 100upx;\r\n      text-align: center;\r\n      background: #35363B;\r\n      color: #D5BD94;\r\n      font-size: 30upx;\r\n      font-weight: bold;\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n  .saveBox {\r\n\t  position: fixed;\r\n\t  left:0;\r\n\t  right:0;\r\n\t  top:0;\r\n\t  bottom:0;\r\n\t  display:flex;\r\n\t  justify-content: center;\r\n\t  align-items: center;\r\n\t  .saveTie {\r\n\t\t  background-color: rgba(0,0,0,0.3);\r\n\t\t  color:#FFFFFF;\r\n\t\t  font-size: 14upx;\r\n\t\t  width:300upx;\r\n\t\t  height:200upx;\r\n\t\t  line-height: 200upx;\r\n\t  }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appraisalReport.vue?vue&type=style&index=0&id=2b8533fa&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./appraisalReport.vue?vue&type=style&index=0&id=2b8533fa&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592967474255\n      var cssReload = require(\"E:/张东旭/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}